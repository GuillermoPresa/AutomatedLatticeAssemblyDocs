
\begin{DoxyItemize}
\item \#\#\# LSS 2MC Code
\end{DoxyItemize}\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md26}{}\doxysection{Stepper Mode Features}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md26}

\begin{DoxyItemize}
\item angle or position mode
\end{DoxyItemize}\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md27}{}\doxysection{Stepper Commands}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md27}
$\ast$$\ast$ indicates commands that are not part of the standard LSS Communication Protocol $\ast$$\ast$??? Set Steps\+Per\+Rev (and set full, half stepper?) MD Relative Move in Degrees (1/10th degs using steps/rev) WD \mbox{[}DONE\mbox{]} Wheel Mode -\/ continuous rotation (degs/sec) Q Query Status D Position in Degrees QD Query Position (degrees) L \mbox{[}DONE\mbox{]} Limp H \mbox{[}DONE\mbox{]} Halt and Hold

set acceleration???\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md28}{}\doxysection{Dual Brushed Motor Commands}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md28}
WD Wheel Mode -\/ continuous rotation (degs/sec) (I probably can\textquotesingle{}t do this since there is no encoder/feedback) RDM Raw Duty-\/cycle Move Q Query Status L Limp\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md29}{}\doxysection{Global Commands\+:}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md29}
CMM?? Motor Mode (Dual Brushed or Stepper) SD Max Speed in Deg/\+Sec SR Max Speed in RPM QMS \char`\"{}\+LSS-\/2\+MC-\/\+ST\char`\"{} (stepper mode) or \char`\"{}\+LSS-\/2\+MC-\/\+DBR\char`\"{} (dual brushed mode) QFV \char`\"{}major.\+minor.\+build\char`\"{} QID/\+CID QB/\+CB G/\+QG/\+CG Gyre Direction RESET QN ???\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md30}{}\doxysection{Modifiers?}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md30}
S Speed SD Speed n deg/sec T Timed move (really, just no)\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md31}{}\doxysection{Examples\+:}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md31}
MM0 -\/ set mode to stepper MM1 -\/ set mode to dual brushed

Todo\+:
\begin{DoxyItemize}
\item gyre direction is in Common but will have to be moved to each dev
\end{DoxyItemize}

set graph to full view\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md32}{}\doxysection{Dual Brushed Motor Mode (\#215 or \#216)}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md32}
CMM1 // enter dual brushed mode QMM // verify motor mode RDM255 // set duty cycle to max (anything over 255 is truncated to 255) RDM0 // stop, same as L L // coast to a stop H // stop w/ brake\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md33}{}\doxysection{Decay Rates}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md33}
See the MP6508 datasheet or other motor control material for description of slow vs fast decay rates. For slow decay mode the current circulates through the two low-\/side MOSFETs and has a braking effect. For fast decay mode, the current flows through the body diodes of the other diagonal two MOSFETS.

WR0 // fast decay rate (default) WR1 // slow decay rate QWR // query the current decay rate\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md34}{}\doxysection{Fixes}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md34}
\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md35}{}\doxysubsection{cast of LED color property}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md35}
\#define \mbox{\hyperlink{_lynxmotion_l_s_s_8cpp_a84850d5c129cfe86bb6a2a0652bb848f}{DISPATCH(bit, member)}} if ((cmd \& bit)\texorpdfstring{$>$}{>}0) \{ LSS\+\_\+\+LOGGING.\+print(\char`\"{}  \char`\"{} \#bit \char`\"{} \char`\"{}); LSS\+\_\+\+LOGGING.\+print(pkt.\+value); LSS\+\_\+\+LOGGING.\+print(\char`\"{} =$>$ \char`\"{} \#member); member = pkt.\+value; mask.\+completed $\vert$= bit; \} \#else \#define \mbox{\hyperlink{_lynxmotion_l_s_s_8cpp_a84850d5c129cfe86bb6a2a0652bb848f}{DISPATCH(bit, member)}} if ((cmd \& bit)\texorpdfstring{$>$}{>}0) \{ member = pkt.\+value; mask.\+completed $\vert$= bit; \} +\#define \mbox{\hyperlink{_lynxmotion_l_s_s_8cpp_a5002aeb277844234218aa37c53ebfa56}{DISPATCH\+\_\+\+CAST(bit, member, type)}} if ((cmd \& bit)\texorpdfstring{$>$}{>}0) \{ member = (type)pkt.\+value; mask.\+completed $\vert$= bit; \} \#endif

void \mbox{\hyperlink{class_lynx_servo_ab9a5b6ddf6bbe029805658c5670f6800}{Lynx\+Servo\+::dispatch(\+Lynx\+Packet pkt)}} @ -\/563,7 +564,7 @ void \mbox{\hyperlink{class_lynx_servo_ab9a5b6ddf6bbe029805658c5670f6800}{Lynx\+Servo\+::dispatch(\+Lynx\+Packet pkt)}} DISPATCH(Lss\+First\+Position, config-\/\texorpdfstring{$>$}{>}first\+Position) else DISPATCH(Lss\+Gyre\+Direction, config-\/\texorpdfstring{$>$}{>}gyre\+Direction) else DISPATCH(Lss\+Baud\+Rate, config-\/\texorpdfstring{$>$}{>}baudrate)
\begin{DoxyItemize}
\item else DISPATCH(Lss\+LEDColor, config-\/\texorpdfstring{$>$}{>}led\+Color)
\item else DISPATCH\+\_\+\+CAST(Lss\+LEDColor, config-\/\texorpdfstring{$>$}{>}led\+Color, Lss\+Colors) else DISPATCH(Lss\+Angular\+Stiffness, config-\/\texorpdfstring{$>$}{>}angular\+Stiffness) else DISPATCH(Lss\+Max\+Speed, config-\/\texorpdfstring{$>$}{>}max\+Speed) else DISPATCH(Lss\+Angular\+Range, config-\/\texorpdfstring{$>$}{>}angular\+Range)
\end{DoxyItemize}\hypertarget{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md36}{}\doxysubsection{Attempting code sync/merges}\label{md__c___users__guille__lattice_assembly__2___assets__resources__objects__i_l_l_a_v3__l_s_s2_m_c_934ee9f82c2a7c2dba3cd82560cad70a_autotoc_md36}
On branch master Your branch is behind \textquotesingle{}origin/master\textquotesingle{} by 76 commits, and can be fast-\/forwarded. (use \char`\"{}git pull\char`\"{} to update your local branch)

commit be5a1382418db435c0b4b076ae32b7df45831c1f (HEAD -\/\texorpdfstring{$>$}{>} master) Author\+: Colin Mac\+Kenzie \href{mailto:colin@flyingeinstein.com}{\texttt{ colin@flyingeinstein.\+com}} Date\+: Tue Dec 15 14\+:18\+:51 2020 -\/0500 \begin{DoxyVerb}fixed flash write using old AngularRange command instead of LssAnalog
\end{DoxyVerb}
 